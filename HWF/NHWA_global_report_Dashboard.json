{"date":"2019-05-15T00:10:56.207","dashboards":[{"created":"2017-09-04T12:31:35.526","lastUpdated":"2018-12-14T17:19:59.540","name":"Global Report","id":"Zd8NbrnshqX","publicAccess":"--------","externalAccess":false,"lastUpdatedBy":{"id":"dKttJLRSiIl"},"user":{"id":"dKttJLRSiIl"},"userGroupAccesses":[{"access":"r-------","userGroupUid":"vNDwT7P6thq","displayName":"NHWA Country Team","id":"vNDwT7P6thq"},{"access":"rw------","userGroupUid":"MVWS4lpbPo2","displayName":"NHWA Global Team","id":"MVWS4lpbPo2"},{"access":"r-------","userGroupUid":"ZWeEK9iBnEi","displayName":"NHWA Regional Team","id":"ZWeEK9iBnEi"},{"access":"r-------","userGroupUid":"EX00r2JNlQo","displayName":"NHWA administrators","id":"EX00r2JNlQo"},{"access":"r-------","userGroupUid":"z6TJVUnop02","displayName":"NHWA Data Completion","id":"z6TJVUnop02"},{"access":"r-------","userGroupUid":"ypluz7jgVRe","displayName":"NHWA checker","id":"ypluz7jgVRe"}],"dashboardItems":[{"lastUpdated":"2017-10-12T10:56:15.534","id":"x6uZDoWzmLr","created":"2017-09-04T13:26:17.254","type":"REPORT_TABLE","externalAccess":false,"contentCount":1,"shape":"NORMAL","interpretationCount":0,"interpretationLikeCount":0,"favorite":false,"access":{"read":true,"update":true,"externalize":true,"delete":true,"write":true,"manage":true},"reportTable":{"id":"bOxKdvkhRbL"},"lastUpdatedBy":{"id":"dKttJLRSiIl"},"favorites":[],"reports":[],"translations":[],"userGroupAccesses":[],"attributeValues":[],"resources":[],"users":[],"userAccesses":[]},{"lastUpdated":"2017-10-12T10:56:15.534","id":"fH4dgjvi9wt","created":"2017-09-04T12:33:12.067","type":"REPORTS","externalAccess":false,"contentCount":3,"shape":"NORMAL","interpretationCount":0,"interpretationLikeCount":0,"favorite":false,"access":{"read":true,"update":true,"externalize":true,"delete":true,"write":true,"manage":true},"lastUpdatedBy":{"id":"dKttJLRSiIl"},"favorites":[],"reports":[{"id":"sZmM11PNIFd"},{"id":"J7a0Oda7Qv7"},{"id":"gZ0oEOsVdyH"}],"translations":[],"userGroupAccesses":[],"attributeValues":[],"resources":[],"users":[],"userAccesses":[]}],"translations":[],"userAccesses":[]}],"reportTables":[{"lastUpdated":"2018-12-14T17:19:59.787","id":"bOxKdvkhRbL","created":"2017-08-22T23:49:58.830","name":"Module 1: Additional Occupation reported by countires","numberType":"VALUE","publicAccess":"--------","userOrganisationUnitChildren":false,"legendDisplayStyle":"FILL","hideEmptyColumns":false,"hideEmptyRows":true,"userOrganisationUnit":false,"rowSubTotals":true,"displayDensity":"NORMAL","completedOnly":true,"colTotals":true,"showDimensionLabels":true,"sortOrder":0,"fontSize":"NORMAL","topLimit":0,"aggregationType":"DEFAULT","userOrganisationUnitGrandChildren":false,"hideSubtitle":false,"externalAccess":false,"legendDisplayStrategy":"FIXED","colSubTotals":true,"showHierarchy":false,"rowTotals":true,"cumulative":false,"digitGroupSeparator":"SPACE","hideTitle":false,"regression":false,"skipRounding":false,"reportParams":{"paramGrandParentOrganisationUnit":false,"paramReportingPeriod":false,"paramOrganisationUnit":false,"paramParentOrganisationUnit":false},"lastUpdatedBy":{"id":"H8IFYZ4ZkLw"},"relativePeriods":{"thisYear":false,"quartersLastYear":false,"last52Weeks":false,"thisWeek":false,"lastMonth":false,"last14Days":false,"biMonthsThisYear":false,"monthsThisYear":false,"last2SixMonths":false,"yesterday":false,"thisQuarter":false,"last12Months":false,"last5FinancialYears":false,"thisSixMonth":false,"lastQuarter":false,"thisFinancialYear":false,"last4Weeks":false,"last3Months":false,"thisDay":false,"thisMonth":false,"last5Years":true,"last6BiMonths":false,"last4BiWeeks":false,"lastFinancialYear":false,"lastBiWeek":false,"weeksThisYear":false,"last6Months":false,"last3Days":false,"quartersThisYear":false,"monthsLastYear":false,"lastWeek":false,"last7Days":false,"thisBimonth":false,"lastBimonth":false,"lastSixMonth":false,"thisBiWeek":false,"lastYear":false,"last12Weeks":false,"last4Quarters":false},"user":{"id":"dKttJLRSiIl"},"dataElementGroupSetDimensions":[],"translations":[],"filterDimensions":[],"itemOrganisationUnitGroups":[],"userGroupAccesses":[{"access":"r-------","userGroupUid":"vNDwT7P6thq","displayName":"NHWA Country Team","id":"vNDwT7P6thq"},{"access":"rw------","userGroupUid":"MVWS4lpbPo2","displayName":"NHWA Global Team","id":"MVWS4lpbPo2"},{"access":"r-------","userGroupUid":"ZWeEK9iBnEi","displayName":"NHWA Regional Team","id":"ZWeEK9iBnEi"},{"access":"r-------","userGroupUid":"EX00r2JNlQo","displayName":"NHWA administrators","id":"EX00r2JNlQo"},{"access":"r-------","userGroupUid":"z6TJVUnop02","displayName":"NHWA Data Completion","id":"z6TJVUnop02"},{"access":"r-------","userGroupUid":"ypluz7jgVRe","displayName":"NHWA checker","id":"ypluz7jgVRe"}],"columnDimensions":["dx","pe"],"userAccesses":[],"dataDimensionItems":[{"dataDimensionItemType":"DATA_ELEMENT","dataElement":{"id":"brISQQxW1xp"}}],"categoryOptionGroupSetDimensions":[],"organisationUnitGroupSetDimensions":[],"organisationUnitLevels":[3],"periods":[],"organisationUnits":[{"id":"H8RixfF8ugH"}],"categoryDimensions":[],"rowDimensions":["ou"]}],"reports":[{"created":"2017-08-23T11:06:45.454","lastUpdated":"2018-12-14T17:19:59.790","name":"NHWA Country Profile","id":"sZmM11PNIFd","designContent":"<!DOCTYPE html>\n<html id=\"charts\" lang=\"en\" ng-app=\"report\">\n<head>\n\n    <!-- Basic Page Needs\n    ������������������������������������������������������������������������������������������������������������������������������������������������������ -->\n    <meta charset=\"utf-8\">\n    <title>Your page title here :)</title>\n    <meta name=\"description\" content=\"\">\n    <meta name=\"author\" content=\"\">\n\n    <!-- Mobile Specific Metas\n    ������������������������������������������������������������������������������������������������������������������������������������������������������ -->\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\n    <!-- FONT\n    ������������������������������������������������������������������������������������������������������������������������������������������������������ -->\n    <link href=\"http://fonts.googleapis.com/css?family=Raleway:400,300,600\" rel=\"stylesheet\" type=\"text/css\">\n\n    <!-- CSS\n    ������������������������������������������������������������������������������������������������������������������������������������������������������ -->\n    <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\">\n\n    <!-- Favicon\n    ������������������������������������������������������������������������������������������������������������������������������������������������������ -->\n    <link rel=\"icon\" type=\"image/png\" href=\"images/favicon.png\">\n    <script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.6.5/angular.min.js\"></script>\n    <script src=\"https://code.highcharts.com/highcharts.js\"></script>\n    <script src=\"https://code.highcharts.com/highcharts-more.js\"></script>\n    <script src=\"https://code.highcharts.com/modules/exporting.js\"></script>\n\n    <style>\n\n        .header {\n            border-width: 2px !important;\n            border-style: groove !important;\n            padding: 5px !important;\n            font-weight: bold;\n            font-size: 20px !important;\n        }\n\n        .chart {\n            margin-top: 8px;\n            margin-bottom: 8px;\n            border-width: 2px;\n            border-style: groove;\n            font-weight: bold;\n            padding: 0;\n            height: 500px;\n        }\n\n        .green {\n            color: #418B64 !important;\n            border-color: #418B64 !important;\n            background-color: #EBF9F2 !important;\n        }\n\n        .brown {\n            color: #9B4D35 !important;\n            border-color: #9B4D35 !important;\n            background-color: #F8D2B4 !important;\n        }\n\n        .blue {\n            color: #5689C3 !important;\n            border-color: #5689C3 !important;\n            background-color: #DBF4FE !important;\n        }\n\n        .red {\n            color: #AE676D !important;\n            border-color: #AE676D !important;\n            background-color: #F3DFE3 !important;\n        }\n\n        .no-right-padding {\n            padding-right: 0;\n        }\n\n        .no-left-padding {\n            padding-left: 0;\n        }\n\n        .normal {\n            color: black;\n            font-size: 10px;\n            font-weight: 100;\n        }\n\n        .chart-content {\n            height: 85%;\n            border-top-width: 2px;\n            border-top-style: groove;\n        }\n\n        .chart-left {\n            padding-right: 2px;\n        }\n\n        .chart-center {\n            padding-right: 2px;\n            padding-left: 2px\n        }\n\n        .chart-right {\n            padding-left: 2px\n        }\n\n        h4 {\n            /*padding-left: 5px*/\n        }\n        .chartheader{\n            font-size:16px;\n            padding:5px;\n        }\n        [ng\\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak], .ng-cloak, .x-ng-cloak {\n            display: none !important;\n        }\n        .onprint{\n            display:none;\n        }\n        @media print {\n            .navbar {\n                display: block;\n                border-width: 0 !important;\n            }\n\n            .navbar-toggle {\n                display: none;\n            }\n\n            body {\n                margin: 0\n            }\n\n            .col-sm-4 {\n                width: 400;\n            }\n            .onprint{\n                display:block;\n            }\n            *{\n                font-size:101%;\n            }\n        }\n        table{\n            table-layout: fixed;\n        }\n    </style>\n    <script>\n        function printDiv(divName) {\n            var printContents = document.getElementById(divName).innerHTML;\n            var originalContents = document.body.innerHTML;\n\n            document.body.innerHTML = printContents;\n\n            window.print();\n\n            document.body.innerHTML = originalContents;\n        }\n        angular.module('report', [])\n                .directive('hcChart', function ($http) {\n                    return {\n                        restrict: 'E',\n                        template: '<div class=\"chart-content green\" ng-class=\"options.classType\"></div>',\n                        replace: true,\n                        scope: {\n                            options: '='\n                        },\n                        link: function (scope, element) {\n\n                            if (scope.options.indicators)\n                                $http.get(\"../api/analytics.json?dimension=pe:\" + scope.options.periods.join(\";\") + \"&dimension=ou:\" + dhis2.report.organisationUnit.id + \"&dimension=dx:\" + scope.options.indicators.join(\";\") + \"&displayProperty=SHORTNAME\").then(function (results) {\n                                    var series = [];\n\n                                    scope.options.indicators.forEach(function (indicator) {\n                                        console.log(indicator,results.data.metaData.items);\n                                        var serie = {\n                                            name: results.data.metaData.items[indicator].name,\n                                            data: []\n                                        }\n                                        scope.options.periods.forEach(function (year) {\n                                            var found = false;\n                                            results.data.rows.forEach(function (row) {\n                                                if (row[1] == year && indicator == row[0]) {\n                                                    serie.data.push(parseFloat(row[3]));\n                                                    found = true;\n                                                }\n                                            })\n                                            if (!found) {\n                                                serie.data.push(0.0);\n                                            }\n                                        })\n                                        series.push(serie);\n                                    })\n                                    var options = {\n                                        exporting: {enabled: false},\n                                        title: {\n                                            text: ''\n                                        },\n                                        yAxis: {\n                                            title: {\n                                                text: ''\n                                            }\n                                        },\n                                        credits: {\n                                            enabled: false\n                                        },\n                                        chart: {\n                                            backgroundColor: 'transparent',\n                                            type: scope.options.chartType\n                                        },\n                                        xAxis: {\n                                            categories: results.data.metaData.dimensions.pe,\n                                            title: {\n                                                text: null\n                                            }\n                                        },\n\n                                        series: series\n                                    }\n                                    if (scope.options.colors) {\n                                        options.colors = scope.options.colors;\n                                    }\n                                    Highcharts.chart(element[0], options);\n                                })\n                        }\n                    };\n                })\n                .controller('charts', function ($scope, $http) {\n                    $scope.todaysDate = new Date();\n                    $scope.dhis2 = {\n                        report: dhis2.report\n                    };\n                    var periods = [\"2010\", \"2011\", \"2012\", \"2013\", \"2014\", \"2015\"];\n                    $scope.charts = {\n                        demographics: [\n                            {\n                                title: \"HWF Density\",\n                                classType: \"green\",\n                                chartType: \"column\",\n                                chartPosition: \"chart-left no-left-padding\",\n                                periods: periods,\n                                indicators: [\"Cy4egYq14b7\", \"NbY8MCzNk7I\", \"Z92ldRMYYKd\", \"g45BDhLKfPc\", \"oQDK4rg16S1\"]\n                            },\n                            {\n                                title: \"Medical Doctor Age Distribution\",\n                                classType: \"green\",\n                                periods: [\"\" + ((new Date()).getFullYear() - 2),\"\" + ((new Date()).getFullYear() - 1)],\n                                chartType: \"column\",\n                                chartPosition: \"chart-center\",\n                                indicators: [\"WrzLpJWctlZ\", \"uoiiF2B3B8f\", \"bzBEpMVbP7B\", \"hD2Cl7mEp7t\", \"AXQUHXoNtN8\", \"Xo3ly6s5uLY\"]\n                            },\n                            {\n                                title: \"HWF by Place of training\",\n                                classType: \"green\",\n                                chartType: \"column\",\n                                chartPosition: \"chart-right no-right-padding\",\n                                periods: periods,\n                                indicators: [\"NjnLdTRDhRD\", \"tFcwQ9Z22En\"]\n                            }\n                        ],\n                        education: [\n                            {\n                                title: \"Graduates Rate\",\n                                classType: \"brown\",\n                                chartType: \"column\",\n                                chartPosition: \"chart-right\",\n                                //colors: ['#9A2E32'],\n                                periods: periods,\n                                indicators: [\"MZCRnvOAM6V\", \"NGs7AjKXIIo\", \"xvpY5OY5X9S\", \"Sbz9LJAx1SY\"]\n                            },\n                            {\n                                title: \"Graduates by gender\",\n                                classType: \"brown\",\n                                chartType: \"column\",\n                                chartPosition: \"chart-center\",\n                                //colors: ['#9A2E32'],\n                                periods: periods,\n                                indicators: [\"vEe0oK2VQhe\", \"BNnP4tjpeMz\", \"YL9pKCMIiCs\", \"rQq1w4TXfeQ\", \"TH4h8PSV0C9\", \"OZ04XGLUf6n\", \"PmS3rmEKBXB\"]\n                            }\n                        ],\n                        marketFlow: [\n                            {\n                                title: \"Medical Doctor Migration\",\n                                classType: \"red\",\n                                chartType: \"line\",\n                                chartPosition: \"chart-center\",\n                                //colors: ['#9A2E32'],\n                                periods: periods,\n                                indicators: [\"toTRAeMY2vy\", \"WWyrQlH1Y22\"]\n                            },\n                            {\n                                title: \"Unemployed Rate\",\n                                classType: \"red\",\n                                chartType: \"line\",\n                                chartPosition: \"chart-center\",\n                                //colors: ['#9A2E32'],\n                                periods: periods,\n                                indicators: [\"mFOTg5PaMRk\", \"C06ANs9J2HA\", \"XjD8p1KC0qM\"]\n                            },\n                            {\n                                title: \"Vacancy Rate\",\n                                classType: \"red\",\n                                chartType: \"column\",\n                                chartPosition: \"chart-right\",\n                                //colors: ['#9A2E32'],\n                                periods: periods,\n                                indicators: [\"aeGGK8bRvmr.fGOgbIqsxDn\", \"aeGGK8bRvmr.LHbCtHlZr3Y\", \"aeGGK8bRvmr.ALBRKpJsddQ\", \"aeGGK8bRvmr.iWRW6jXAzvP\", \"aeGGK8bRvmr.MPzyVWiSFF2\", \"aeGGK8bRvmr.VtVkbvygJnm\", \"aeGGK8bRvmr.aBpbcEgtzgw\"]\n                            }\n                        ],\n                        workingConditions: [\n                            {\n                                title: \"Self-Employed\",\n                                classType: \"brown\",\n                                chartType: \"column\",\n                                chartPosition: \"chart-center\",\n                                //colors: ['#9A2E32'],\n                                periods: periods,\n                                indicators: [\"NS4fCIHv4cH\", \"BOl6GIYujj6\", \"aNLJOF7Aqqm\"]\n                            },\n                            {\n                                title: \"Part Time Employed:\",\n                                classType: \"brown\",\n                                chartType: \"column\",\n                                chartPosition: \"chart-right\",\n                                //colors: ['#9A2E32'],\n                                periods: periods,\n                                indicators: [\"TMZ93QHMe1N\", \"kpW92bC2frC\", \"Noyirkvon7V\"]\n                            }\n                        ],\n                        governance: [\n                            {\n                                title: \"Governance\",\n                                classType: \"blue\",\n                                chartType: \"column\",\n                                chartPosition: \"chart-center\",\n                                //colors: ['#9A2E32'],\n                                periods: periods,\n                                indicators: [\"yqQBUxeuga4\", \"wDaqByzsz7p\"]\n                            }\n                        ],\n                        hrhis: [\n                            {\n                                title: \"HRHIS\",\n                                classType: \"blue\",\n                                chartType: \"column\",\n                                chartPosition: \"chart-center\",\n                                //colors: ['#9A2E32'],\n                                periods: periods,\n                                indicators: [\"RHokurJAbjS\", \"q8CUMlpFLtJ\",\"hR7B1ITcCMe\", \"qNxAIa6jvmm\"]\n                            }\n                        ]\n                    }\n                });\n    </script>\n</head>\n<body>\n\n<!-- Primary Page Layout\n������������������������������������������������������������������������������������������������������������������������������������������������������ -->\n\n<div class=\"container-fluid\" ng-controller=\"charts\" ng-cloak style=\"width: 800pt;\">\n    <div class=\"row\">\n        <div class=\"col-sm-12\">\n            <table style=\"width:100%;margin-bottom:15px\">\n                <tr style='height: 120px;background-size: contain !important;background-image: url(\"../api/documents/tiGoso5xIzq/data\") !important;'>\n                    <td style=\"width:100%\">\n                        <img src=\"https://seeklogo.com/images/W/WHO_World_Health_Organization-logo-18D6B3AFE7-seeklogo.com.png\"\n                             class=\"pull-right\" style=\"width:300px;margin-right: 15px;margin-top: 10px;\">\n                        <div class=\"navbar-header\">\n                            <h4 style=\"color:white;font-size: 40px;font-weight:bold;line-height: 90px;\">NHWA Country Profile for\n                                {{dhis2.report.organisationUnit.name}}</h4>\n                        </div>\n                    </td>\n                </tr>\n            </table>\n            <table style=\"width:100%\" cellpadding=\"5\" cellspacing=\"5\">\n                <tr>\n                    <th colspan=\"3\" class=\"header green\">DEMOGRAPHICS</th>\n                </tr>\n                <tr>\n                    <td ng-repeat=\"chart in charts.demographics\" style=\"width: 33%;\">\n                        <div class=\"chart green\">\n                            <div class=\"chartheader green\">{{chart.title}}</div>\n                            <hc-chart options=\"chart\">Placeholder for generic chart</hc-chart>\n                        </div>\n                    </td>\n                </tr>\n                <tr>\n                    <th colspan=\"3\" class=\"header red\">MARKET MIGRATION</th>\n                </tr>\n                <tr>\n                    <td ng-repeat=\"chart in charts.marketFlow\" style=\"width: 33%;\">\n                        <div class=\"chart red\">\n                            <div class=\"chartheader red\">{{chart.title}}</div>\n                            <hc-chart options=\"chart\">Placeholder for generic chart</hc-chart>\n                        </div>\n                    </td>\n                </tr>\n                <tr>\n                    <th colspan=\"2\" class=\"header brown\">EDUCATION</th>\n                    <th class=\"header blue\">GOVERNANCE</th>\n                </tr>\n                <tr>\n                    <td ng-repeat=\"chart in charts.education\" style=\"width: 33%;\">\n                        <div class=\"chart brown\">\n                            <div class=\"chartheader brown\">{{chart.title}}</div>\n                            <hc-chart options=\"chart\">Placeholder for generic chart</hc-chart>\n                        </div>\n                    </td>\n                    <td style=\"vertical-align: text-bottom;\"\n                        ng-repeat=\"chart in charts.governance\" style=\"width: 33%;\">\n                        <div class=\"chart blue\">\n                            <div class=\"chartheader blue\">{{chart.title}}</div>\n                            <hc-chart options=\"chart\">Placeholder for generic chart</hc-chart>\n                        </div>\n                    </td>\n                </tr>\n                <tr>\n                    <th colspan=\"2\" class=\"header brown\">WORKING CONDITOIN</th>\n                    <th class=\"header blue\">HRHIS</th>\n                </tr>\n                <tr>\n                    <td\n                            ng-repeat=\"chart in charts.workingConditions\" style=\"width: 33%;\">\n                        <div class=\"chart brown\">\n                            <div class=\"chartheader brown\">{{chart.title}}</div>\n                            <hc-chart options=\"chart\">Placeholder for generic chart</hc-chart>\n                        </div>\n                    </td>\n                    <td style=\"vertical-align: text-bottom;\"\n                        ng-repeat=\"chart in charts.hrhis\" style=\"width: 33%;\">\n                        <div class=\"chart blue\">\n                            <div class=\"chartheader blue\">{{chart.title}}</div>\n                            <hc-chart options=\"chart\">Placeholder for generic chart</hc-chart>\n                        </div>\n                    </td>\n                </tr>\n            </table>\n            <table style=\"width:100%;margin-bottom:15px\">\n                <tr style='height: 150px;background-size: contain !important;margin-top: 20px;background-image: url(\"../api/documents/A0UdRxjZvfI/data\") !important;'>\n                    <td style=\"width:100%\">\n                        <div class=\"pull-right\" style=\"font-size: 20px;font-weight:bold;margin-top: 120px;\">Source: WHO NHWA\n                            Data Platform created on {{todaysDate | date:\"dd/MM/yyyy\"}}\n                        </div>\n                    </td>\n                </tr>\n            </table>\n        </div>\n    </div>\n</div><!-- End Document\n      ������������������������������������������������������������������������������������������������������������������������������������������������������ -->\n</body>\n</html>\n","publicAccess":"--------","type":"HTML","externalAccess":false,"cacheStrategy":"RESPECT_SYSTEM_SETTING","lastUpdatedBy":{"id":"dKttJLRSiIl"},"relativePeriods":{"thisYear":false,"quartersLastYear":false,"last52Weeks":false,"thisWeek":false,"lastMonth":false,"last14Days":false,"biMonthsThisYear":false,"monthsThisYear":false,"last2SixMonths":false,"yesterday":false,"thisQuarter":false,"last12Months":false,"last5FinancialYears":false,"thisSixMonth":false,"lastQuarter":false,"thisFinancialYear":false,"last4Weeks":false,"last3Months":false,"thisDay":false,"thisMonth":false,"last5Years":false,"last6BiMonths":false,"last4BiWeeks":false,"lastFinancialYear":false,"lastBiWeek":false,"weeksThisYear":false,"last6Months":false,"last3Days":false,"quartersThisYear":false,"monthsLastYear":false,"lastWeek":false,"last7Days":false,"thisBimonth":false,"lastBimonth":false,"lastSixMonth":false,"thisBiWeek":false,"lastYear":false,"last12Weeks":false,"last4Quarters":false},"reportParams":{"paramGrandParentOrganisationUnit":false,"paramReportingPeriod":false,"paramOrganisationUnit":true,"paramParentOrganisationUnit":false},"user":{"id":"dKttJLRSiIl"},"userGroupAccesses":[{"access":"r-------","userGroupUid":"vNDwT7P6thq","displayName":"NHWA Country Team","id":"vNDwT7P6thq"},{"access":"rw------","userGroupUid":"MVWS4lpbPo2","displayName":"NHWA Global Team","id":"MVWS4lpbPo2"},{"access":"r-------","userGroupUid":"ZWeEK9iBnEi","displayName":"NHWA Regional Team","id":"ZWeEK9iBnEi"},{"access":"r-------","userGroupUid":"EX00r2JNlQo","displayName":"NHWA administrators","id":"EX00r2JNlQo"},{"access":"r-------","userGroupUid":"z6TJVUnop02","displayName":"NHWA Data Completion","id":"z6TJVUnop02"},{"access":"r-------","userGroupUid":"ypluz7jgVRe","displayName":"NHWA checker","id":"ypluz7jgVRe"}],"translations":[],"userAccesses":[]},{"created":"2017-08-29T11:31:05.345","lastUpdated":"2019-03-19T11:51:35.830","name":"NHWA Approval Report","id":"gZ0oEOsVdyH","designContent":"<!DOCTYPE html>\n<html lang=\"en\" ng-app=\"report\">\n<head>\n\n    <!-- Basic Page Needs\n    –––––––––––––––––––––––––––––––––––––––––––––––––– -->\n    <meta charset=\"utf-8\">\n    <title>Your page title here :)</title>\n    <meta name=\"description\" content=\"\">\n    <meta name=\"author\" content=\"\">\n\n    <!-- Mobile Specific Metas\n    –––––––––––––––––––––––––––––––––––––––––––––––––– -->\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\n    <!-- FONT\n    –––––––––––––––––––––––––––––––––––––––––––––––––– -->\n    <link href=\"http://fonts.googleapis.com/css?family=Raleway:400,300,600\" rel=\"stylesheet\" type=\"text/css\">\n\n    <!-- CSS\n    –––––––––––––––––––––––––––––––––––––––––––––––––– -->\n    <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\">\n\n    <!-- Favicon\n    –––––––––––––––––––––––––––––––––––––––––––––––––– -->\n    <link rel=\"icon\" type=\"image/png\" href=\"images/favicon.png\">\n    <script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.6.5/angular.min.js\"></script>\n    <script src=\"https://code.highcharts.com/highcharts.js\"></script>\n    <script src=\"https://code.highcharts.com/highcharts-more.js\"></script>\n    <script src=\"https://code.highcharts.com/modules/exporting.js\"></script>\n\n    <style>\n        .header {\n            border-width: 2px;\n            border-style: groove;\n            padding: 5px;\n            font-weight: bold;\n            font-size: 20px\n        }\n\n        .chart {\n            border-width: 2px;\n            border-style: groove;\n            font-weight: bold;\n            padding: 0;\n            height: 500px;\n        }\n\n        .green {\n            color: #418B64;\n            border-color: #418B64;\n            background-color: #EBF9F2;\n        }\n\n        .brown {\n            color: #9B4D35;\n            border-color: #9B4D35;\n            background-color: #F8D2B4;\n        }\n\n        .blue {\n            color: #5689C3;\n            border-color: #5689C3;\n            background-color: #DBF4FE;\n        }\n\n        .red {\n            color: #AE676D;\n            border-color: #AE676D;\n            background-color: #F3DFE3;\n        }\n\n        .normal {\n            color: black;\n            font-size: 10px;\n            font-weight: 100;\n        }\n\n        .chart-content {\n            height: 85%;\n            border-top-width: 2px;\n            border-top-style: groove;\n        }\n\n        .col-sm-12 {\n            /*padding: 0;*/\n        }\n\n        .chart-left {\n            padding-right: 2px;\n        }\n\n        .chart-center {\n            padding-right: 2px;\n            padding-left: 2px\n        }\n\n        .chart-right {\n            padding-left: 2px\n        }\n\n        h4 {\n            padding-left: 5px\n        }\n        [ng\\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak], .ng-cloak, .x-ng-cloak {\n            display: none !important;\n        }\n    </style>\n    <script>\n        angular.module('report', [])\n                .directive('hcChart', function ($http) {\n                    return {\n                        restrict: 'E',\n                        template: '<div class=\"chart-content green\"></div>',\n                        replace: true,\n                        scope: {\n                            options: '='\n                        },\n                        link: function (scope, element) {\n\n                            Highcharts.chart(element[0], scope.options);\n                        }\n                    };\n                })\n                .controller('charts', function ($scope, $http, $q) {\n                    $scope.todaysDate = new Date();\n                    $scope.dhis2 = {\n                        report:dhis2.report\n                    };\n                    $scope.dataSets = [\n                        {\n                            id:\"Wxl8hxuOsIQ\",\n                            name:\"HWF Module 1\"\n                        },\n                        {\n                            id:\"m5MiTPdlK17\",\n                            name:\"HWF Module 2\"\n                        },\n                        {\n                            id:\"pZ3XRBi9gYE\",\n                            name:\"HWF Module 3\"\n                        },\n                        {\n                            id:\"HtZb6Cg7TXo\",\n                            name:\"HWF Module 4\"\n                        },\n                        {\n                            id:\"cxfAcMbSZe1\",\n                            name:\"HWF Module 5\"\n                        },\n                        {\n                            id:\"WDyQKfAvY3V\",\n                            name:\"HWF Module 6\"\n                        },\n                        {\n                            id:\"ZRsZdd2AvAR\",\n                            name:\"HWF Module 7\"\n                        },\n                        {\n                            id:\"p5z7F51v1ag\",\n                            name:\"HWF Module 8-10\"\n                        },\n                        {\n                            id:\"yMoTWVrYvwM\",\n                            name:\"HWF Maturity data collection\"\n                        }\n                    ];\n                    $scope.update = function(data){\n                        $scope.dataSets.forEach(function(dataSet){\n                            if(data == dataSet.id){\n                                $scope.dataSetName = dataSet.name;\n                            }\n                        })\n                        $scope.loading = true;\n                        $http.get(\"../api/organisationUnits/\" + dhis2.report.organisationUnit.id + \".json?fields=id,name,level,children[id,name,level,children[id,name,level]]\").then(function (results) {\n                            $scope.organisationUnit = results.data;\n                            var ous = [];\n                            ous.push($scope.organisationUnit.id);\n                            $scope.organisationUnit.children.forEach(function(child){\n                                ous.push(child.id);\n                            })\n                            $http.get(\"../api/sqlViews/lzykwATU9MZ/data.json?var=ds:\" + data + \"&var=pe:\" + dhis2.report.date.substr(0,4)+ \"&var=ou:\" + ous.join(\"-\")).then(function (sqlViewResults) {\n                                console.log(\"sqlViewResults:\", sqlViewResults);\n                                function getData(id){\n                                    var value = 0;\n                                    sqlViewResults.data.listGrid.rows.forEach(function(row){\n                                        if(row[0] == id){\n                                            value = row[1];\n                                        }\n                                    })\n                                    return value;\n                                }\n                                var orgUnits = [];\n                                $scope.organisationUnit.expectedApprovals = 0;\n                                $scope.organisationUnit.approvals = 0;\n                                $scope.organisationUnit.expectedApprovals = getData($scope.organisationUnit.id);\n                                if($scope.organisationUnit.level == 1){\n                                    $scope.organisationUnit.children.forEach(function(child){\n                                        if(child.id != \"zXAaAXzwt4M\"){\n                                            child.expectedApprovals = getData(child.id);\n                                            child.approvals = 0;\n                                            child.children.forEach(function(child1){\n                                                //child.expectedApprovals++;\n                                                //child.expectedApprovals = ;\n                                                //$scope.organisationUnit.expectedApprovals++;\n                                                orgUnits.push(child1.id);\n                                            })\n                                        }\n                                    })\n                                }else if($scope.organisationUnit.level == 2 && $scope.organisationUnit.id != \"zXAaAXzwt4M\"){\n                                    $scope.organisationUnit.children.forEach(function(child){\n                                        child.expectedApprovals = getData(child.id);\n                                        //$scope.organisationUnit.expectedApprovals++;\n                                        child.approvals = 0;\n                                        orgUnits.push(child.id);\n                                    })\n                                }else if($scope.organisationUnit.level == 3){\n                                    //$scope.organisationUnit.expectedApprovals++;\n                                    orgUnits.push($scope.organisationUnit.id);\n                                }\n                                $scope.approvalChart = {\n                                    chart: {\n                                        plotBackgroundColor: null,\n                                        plotBorderWidth: null,\n                                        plotShadow: false,\n                                        type: 'pie',\n                                        backgroundColor: 'transparent',\n                                    },\n                                    title: {\n                                        text: $scope.dataSetName + ' on ' + $scope.dhis2.report.date.substr(0,4)\n                                    },\n                                    tooltip: {\n                                        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\n                                    },\n                                    colors:[\"green\",\"red\"],\n                                    plotOptions: {\n                                        pie: {\n                                            allowPointSelect: true,\n                                            cursor: 'pointer',\n                                            dataLabels: {\n                                                enabled: true,\n                                                format: '<b>{point.name}</b>: {point.percentage:.1f} %',\n                                                style: {\n                                                    color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'\n                                                }\n                                            }\n                                        }\n                                    }\n                                };\n                                $scope.fetch(orgUnits,data);\n                            })\n                        })\n                    }\n                    $scope.getApproval = function(ou,dataSet){\n                        var deffered = $q.defer();\n                        $http.get(\"../api/dataApprovals?ds=\" + dataSet + \"&pe=\" + dhis2.report.date.substr(0,4)+ \"&ou=\" + ou).then(function (res) {\n                            if($scope.organisationUnit.level == 1){\n                                $scope.organisationUnit.children.forEach(function(child){\n                                    child.children.forEach(function(child1){\n                                        if(ou == child1.id && res.data.state == \"APPROVED_HERE\"){\n                                            child.approvals++;\n                                            $scope.organisationUnit.approvals++;\n                                        }\n                                    })\n                                })\n                            }else if($scope.organisationUnit.level == 2){\n                                $scope.organisationUnit.children.forEach(function(child){\n                                    if(ou == child.id && res.data.state == \"APPROVED_HERE\"){\n                                        child.approvals++;\n                                        $scope.organisationUnit.approvals++;\n                                    }\n                                })\n                            }else if($scope.organisationUnit.level == 3){\n                                if(ou == $scope.organisationUnit.id && res.data.state == \"APPROVED_HERE\"){\n                                    $scope.organisationUnit.approvals++;\n                                }\n                            }\n                            deffered.resolve();\n                        }, function (error) {\n                            if (error.data.httpStatusCode == 404) {\n                                deffered.resolve(error.data);\n                            } else {\n                                deffered.reject(error);\n                            }\n                        })\n                        return deffered.promise;\n                    }\n                    $scope.fetch = function(orgUnits,dataSet){\n                        var promises = [];\n                        orgUnits.splice(0,50).forEach(function(orgUnit){\n                            promises.push($scope.getApproval(orgUnit,dataSet));\n                        })\n                        $q.all(promises).then(function(){\n                            if(orgUnits.length == 0){\n                                $scope.approvalChart.series = [{\n                                    name: 'Approvals',\n                                    colorByPoint: true,\n                                    data: [{\n                                        name: 'Approved',\n                                        y: $scope.organisationUnit.approvals\n                                    }, {\n                                        name: 'Unapproved',\n                                        y: $scope.organisationUnit.expectedApprovals - $scope.organisationUnit.approvals\n                                    }]\n                                }]\n                                $scope.loading = false;\n                            }else{\n                                $scope.fetch(orgUnits,dataSet)\n                            }\n                        })\n                    }\n                });\n    </script>\n</head>\n<body>\n\n<!-- Primary Page Layout\n–––––––––––––––––––––––––––––––––––––––––––––––––– -->\n\n<div class=\"container-fluid\" ng-controller=\"charts\"  ng-cloak>\n    <nav class=\"navbar navbar-default\" style='height: 120px;background-size: contain;background-image: url(\"../api/documents/tiGoso5xIzq/data\");'>\n        <!--<img src=\"assets/img/background.svg\" />-->\n        <div class=\"container-fluid\">\n            <img src=\"https://seeklogo.com/images/W/WHO_World_Health_Organization-logo-18D6B3AFE7-seeklogo.com.png\" class=\"pull-right\" style=\"width:300px;margin-right: 15px;margin-top: 10px;\">\n            <div class=\"navbar-header\">\n                <h4 style=\"color:white;font-size: 40px;font-weight:bold;line-height: 90px;\">Approval Report <span ng-if=\"selectedDataSet\">for {{dataSetName}} for {{dhis2.report.organisationUnit.name}} in {{dhis2.report.date.substr(0,4)}}</span></h4>\n            </div>\n        </div>\n    </nav>\n    <div class=\"row\">\n        <div class=\"col-sm-4\">\n            <select class=\"form-control\"\n                    ng-model=\"selectedDataSet\"\n                    ng-change=\"update(selectedDataSet)\">\n                <option value=\"\">Select Dataset</option>\n                <option ng-repeat=\"dataSet in dataSets\" value=\"{{dataSet.id}}\">{{dataSet.name}}</option>\n            </select>\n        </div>\n    </div>\n    <div class=\"row\" ng-if=\"!loading && approvalChart && organisationUnit.id != 'zXAaAXzwt4M'\">\n        <div class=\"col-sm-12\">\n            <h5 class=\"header green\">APPROVAL</h5>\n        </div>\n        <div class=\"col-sm-8 chart-left\">\n            <table class=\"table table-bordered\">\n                <tr>\n                    <th>Name</th>\n                    <th>Expected Approval</th>\n                    <th>Approval</th>\n                    <th>Percentage Approval</th>\n                </tr>\n                <tr ng-if=\"organisationUnit.level < 3 && child.id != 'zXAaAXzwt4M'\" ng-repeat=\"child in organisationUnit.children\">\n                    <td>{{child.name}}</td>\n                    <td>{{child.expectedApprovals}}</td>\n                    <td>{{child.approvals}}</td>\n                    <td>\n                        <span ng-if=\"child.expectedApprovals > 0\">{{(child.approvals * 100/child.expectedApprovals).toFixed(2)}}</span>\n                        <span ng-if=\"child.expectedApprovals < 1\">-</span>\n                    </td>\n                </tr>\n                <tr>\n                    <td>{{organisationUnit.name}}</td>\n                    <td>{{organisationUnit.expectedApprovals}}</td>\n                    <td>{{organisationUnit.approvals}}</td>\n                    <td>\n                        <span ng-if=\"organisationUnit.expectedApprovals > 0\">{{(organisationUnit.approvals * 100/organisationUnit.expectedApprovals).toFixed(2)}}</span>\n                        <span ng-if=\"organisationUnit.expectedApprovals < 1\">-</span>\n                    </td>\n                </tr>\n            </table>\n        </div>\n        <div class=\"col-sm-4\">\n            <div class=\"chart green\">\n                <h4 class=\"green\">Approval</h4>\n                <hc-chart options=\"approvalChart\">Placeholder for generic chart</hc-chart>\n            </div>\n        </div>\n    </div>\n    <div class=\"row\" ng-if=\"organisationUnit.id == 'zXAaAXzwt4M'\">\n        <div class=\"col-sm-4\">NA is not part of WHO Countries. Please select another</div>\n    </div>\n    <div class=\"row\" ng-if=\"loading\" style=\"text-align: center\">\n        <svg width='120px' height='120px' xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"\n             preserveAspectRatio=\"xMidYMid\" class=\"uil-balls\">\n            <rect x=\"0\" y=\"0\" width=\"100\" height=\"100\" fill=\"none\" class=\"bk\"></rect>\n            <g transform=\"rotate(0 50 50)\">\n                <circle r=\"5\" cx=\"30\" cy=\"50\">\n                    <animateTransform attributeName=\"transform\" type=\"translate\" begin=\"0s\" repeatCount=\"indefinite\"\n                                      dur=\"0.5s\" values=\"0 0;29.999999999999996 -17.320508075688775\"\n                                      keyTimes=\"0;1\"/>\n                    <animate attributeName=\"fill\" dur=\"0.5s\" begin=\"0s\" repeatCount=\"indefinite\" keyTimes=\"0;1\"\n                             values=\"#c5523f;#f2b736\"/>\n                </circle>\n            </g>\n            <g transform=\"rotate(120 50 50)\">\n                <circle r=\"5\" cx=\"30\" cy=\"50\">\n                    <animateTransform attributeName=\"transform\" type=\"translate\" begin=\"0s\" repeatCount=\"indefinite\"\n                                      dur=\"0.5s\" values=\"0 0;29.999999999999996 -17.320508075688775\"\n                                      keyTimes=\"0;1\"/>\n                    <animate attributeName=\"fill\" dur=\"0.5s\" begin=\"0s\" repeatCount=\"indefinite\" keyTimes=\"0;1\"\n                             values=\"#f2b736;#499255\"/>\n                </circle>\n            </g>\n            <g transform=\"rotate(240 50 50)\">\n                <circle r=\"5\" cx=\"30\" cy=\"50\">\n                    <animateTransform attributeName=\"transform\" type=\"translate\" begin=\"0s\" repeatCount=\"indefinite\"\n                                      dur=\"0.5s\" values=\"0 0;29.999999999999996 -17.320508075688775\"\n                                      keyTimes=\"0;1\"/>\n                    <animate attributeName=\"fill\" dur=\"0.5s\" begin=\"0s\" repeatCount=\"indefinite\" keyTimes=\"0;1\"\n                             values=\"#499255;#c5523f\"/>\n                </circle>\n            </g>\n        </svg>\n    </div>\n\n    <nav class=\"navbar navbar-default\" style='height: 150px;background-size: contain;margin-top: 20px;background-image: url(\"../api/documents/A0UdRxjZvfI/data\");'>\n        <div class=\"container-fluid\">\n            <div class=\"\">\n                <div class=\"pull-right\" style=\"font-size: 20px;font-weight:bold;margin-top: 120px;\">Source: WHO NHWA Data Platform created on {{todaysDate | date:\"dd/MM/yyyy\"}}</div>\n            </div>\n        </div>\n    </nav>\n</div>\n\n<!-- End Document\n  –––––––––––––––––––––––––––––––––––––––––––––––––– -->\n</body>\n</html>\n","publicAccess":"rw------","type":"HTML","externalAccess":false,"cacheStrategy":"RESPECT_SYSTEM_SETTING","lastUpdatedBy":{"id":"dKttJLRSiIl"},"relativePeriods":{"thisYear":false,"quartersLastYear":false,"last52Weeks":false,"thisWeek":false,"lastMonth":false,"last14Days":false,"biMonthsThisYear":false,"monthsThisYear":false,"last2SixMonths":false,"yesterday":false,"thisQuarter":false,"last12Months":false,"last5FinancialYears":false,"thisSixMonth":false,"lastQuarter":false,"thisFinancialYear":false,"last4Weeks":false,"last3Months":false,"thisDay":false,"thisMonth":false,"last5Years":false,"last6BiMonths":false,"last4BiWeeks":false,"lastFinancialYear":false,"lastBiWeek":false,"weeksThisYear":false,"last6Months":false,"last3Days":false,"quartersThisYear":false,"monthsLastYear":false,"lastWeek":false,"last7Days":false,"thisBimonth":false,"lastBimonth":false,"lastSixMonth":false,"thisBiWeek":false,"lastYear":false,"last12Weeks":false,"last4Quarters":false},"reportParams":{"paramGrandParentOrganisationUnit":false,"paramReportingPeriod":true,"paramOrganisationUnit":true,"paramParentOrganisationUnit":false},"user":{"id":"dKttJLRSiIl"},"userGroupAccesses":[],"translations":[],"userAccesses":[]},{"created":"2017-09-04T10:08:46.298","lastUpdated":"2018-12-14T17:19:59.792","name":"NHWA Country Profile V2","id":"J7a0Oda7Qv7","designContent":"<!DOCTYPE html>\n<html id=\"charts\" lang=\"en\" ng-app=\"report\">\n<head>\n\n    <!-- Basic Page Needs\n    ������������������������������������������������������������������������������������������������������������������������������������������������������ -->\n    <meta charset=\"utf-8\">\n    <title>Your page title here :)</title>\n    <meta name=\"description\" content=\"\">\n    <meta name=\"author\" content=\"\">\n\n    <!-- Mobile Specific Metas\n    ������������������������������������������������������������������������������������������������������������������������������������������������������ -->\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\n    <!-- FONT\n    ������������������������������������������������������������������������������������������������������������������������������������������������������ -->\n    <link href=\"http://fonts.googleapis.com/css?family=Raleway:400,300,600\" rel=\"stylesheet\" type=\"text/css\">\n\n    <!-- CSS\n    ������������������������������������������������������������������������������������������������������������������������������������������������������ -->\n    <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\">\n\n    <!-- Favicon\n    ������������������������������������������������������������������������������������������������������������������������������������������������������ -->\n    <link rel=\"icon\" type=\"image/png\" href=\"images/favicon.png\">\n    <script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.6.5/angular.min.js\"></script>\n    <script src=\"https://code.highcharts.com/highcharts.js\"></script>\n    <script src=\"https://code.highcharts.com/highcharts-more.js\"></script>\n    <script src=\"https://code.highcharts.com/modules/exporting.js\"></script>\n\n    <style>\n\n        .header {\n            border-width: 2px !important;\n            border-style: groove !important;\n            padding: 5px !important;\n            font-weight: bold;\n            font-size: 20px !important;\n        }\n\n        .chart {\n            margin-top: 8px;\n            margin-bottom: 8px;\n            border-width: 2px;\n            border-style: groove;\n            font-weight: bold;\n            padding: 0;\n            height: 500px;\n        }\n\n        .green {\n            color: #418B64 !important;\n            border-color: #418B64 !important;\n            background-color: #EBF9F2 !important;\n        }\n\n        .brown {\n            color: #9B4D35 !important;\n            border-color: #9B4D35 !important;\n            background-color: #F8D2B4 !important;\n        }\n\n        .blue {\n            color: #5689C3 !important;\n            border-color: #5689C3 !important;\n            background-color: #DBF4FE !important;\n        }\n\n        .red {\n            color: #AE676D !important;\n            border-color: #AE676D !important;\n            background-color: #F3DFE3 !important;\n        }\n\n        .no-right-padding {\n            padding-right: 0;\n        }\n\n        .no-left-padding {\n            padding-left: 0;\n        }\n\n        .normal {\n            color: black;\n            font-size: 10px;\n            font-weight: 100;\n        }\n\n        .chart-content {\n            height: 85%;\n            border-top-width: 2px;\n            border-top-style: groove;\n        }\n\n        .chart-left {\n            padding-right: 2px;\n        }\n\n        .chart-center {\n            padding-right: 2px;\n            padding-left: 2px\n        }\n\n        .chart-right {\n            padding-left: 2px\n        }\n\n        h4 {\n            /*padding-left: 5px*/\n        }\n        .chartheader{\n            font-size:16px;\n            padding:5px;\n        }\n        [ng\\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak], .ng-cloak, .x-ng-cloak {\n            display: none !important;\n        }\n        .onprint{\n            display:none;\n        }\n        @media print {\n            .navbar {\n                display: block;\n                border-width: 0 !important;\n            }\n\n            .navbar-toggle {\n                display: none;\n            }\n\n            body {\n                margin: 0\n            }\n\n            .col-sm-4 {\n                width: 400;\n            }\n            .onprint{\n                display:block;\n            }\n            *{\n                font-size:101%;\n            }\n        }\n        table{\n            table-layout: fixed;\n        }\n    </style>\n    <script>\n        function printDiv(divName) {\n            var printContents = document.getElementById(divName).innerHTML;\n            var originalContents = document.body.innerHTML;\n\n            document.body.innerHTML = printContents;\n\n            window.print();\n\n            document.body.innerHTML = originalContents;\n        }\n        angular.module('report', [])\n                .directive('hcChart', function ($http) {\n                    return {\n                        restrict: 'E',\n                        template: '<div class=\"chart-content green\" ng-class=\"options.classType\"></div>',\n                        replace: true,\n                        scope: {\n                            options: '='\n                        },\n                        link: function (scope, element) {\n\n                            if (scope.options.indicators)\n                                $http.get(\"../api/analytics.json?dimension=pe:\" + scope.options.periods.join(\";\") + \"&dimension=ou:\" + dhis2.report.organisationUnit.id + \"&dimension=dx:\" + scope.options.indicators.join(\";\") + \"&displayProperty=SHORTNAME\").then(function (results) {\n                                    var series = [];\n\n                                    scope.options.indicators.forEach(function (indicator) {\n                                        console.log(indicator,results.data.metaData.items);\n                                        var serie = {\n                                            name: results.data.metaData.items[indicator].name,\n                                            data: []\n                                        }\n                                        scope.options.periods.forEach(function (year) {\n                                            var found = false;\n                                            results.data.rows.forEach(function (row) {\n                                                if (row[1] == year && indicator == row[0]) {\n                                                    serie.data.push(parseFloat(row[3]));\n                                                    found = true;\n                                                }\n                                            })\n                                            if (!found) {\n                                                serie.data.push(0.0);\n                                            }\n                                        })\n                                        series.push(serie);\n                                    })\n                                    var options = {\n                                        exporting: {enabled: false},\n                                        title: {\n                                            text: ''\n                                        },\n                                        yAxis: {\n                                            title: {\n                                                text: ''\n                                            }\n                                        },\n                                        credits: {\n                                            enabled: false\n                                        },\n                                        chart: {\n                                            backgroundColor: 'transparent',\n                                            type: scope.options.chartType\n                                        },\n                                        xAxis: {\n                                            categories: results.data.metaData.dimensions.pe,\n                                            title: {\n                                                text: null\n                                            }\n                                        },\n\n                                        series: series\n                                    }\n                                    if (scope.options.colors) {\n                                        options.colors = scope.options.colors;\n                                    }\n                                    Highcharts.chart(element[0], options);\n                                })\n                        }\n                    };\n                })\n                .controller('charts', function ($scope, $http) {\n                    $scope.todaysDate = new Date();\n                    $scope.dhis2 = {\n                        report: dhis2.report\n                    };\n                    var periods = [\"2010\", \"2011\", \"2012\", \"2013\", \"2014\", \"2015\"];\n                    $scope.charts = {\n                        demographics: [\n                            {\n                                title: \"HWF Density\",\n                                classType: \"green\",\n                                chartType: \"column\",\n                                chartPosition: \"chart-left no-left-padding\",\n                                periods: periods,\n                                indicators: [\"Cy4egYq14b7\", \"NbY8MCzNk7I\", \"Z92ldRMYYKd\", \"g45BDhLKfPc\", \"oQDK4rg16S1\"]\n                            },\n                            {\n                                title: \"Medical Doctor Age Distribution\",\n                                classType: \"green\",\n                                periods: [\"\" + ((new Date()).getFullYear() - 2),\"\" + ((new Date()).getFullYear() - 1)],\n                                chartType: \"column\",\n                                chartPosition: \"chart-center\",\n                                indicators: [\"WrzLpJWctlZ\", \"uoiiF2B3B8f\", \"bzBEpMVbP7B\", \"hD2Cl7mEp7t\", \"AXQUHXoNtN8\", \"Xo3ly6s5uLY\"]\n                            },\n                            {\n                                title: \"HWF by Place of training\",\n                                classType: \"green\",\n                                chartType: \"column\",\n                                chartPosition: \"chart-right no-right-padding\",\n                                periods: periods,\n                                indicators: [\"NjnLdTRDhRD\", \"tFcwQ9Z22En\"]\n                            }\n                        ],\n                        education: [\n                            {\n                                title: \"Graduates Rate\",\n                                classType: \"brown\",\n                                chartType: \"column\",\n                                chartPosition: \"chart-right\",\n                                //colors: ['#9A2E32'],\n                                periods: periods,\n                                indicators: [\"MZCRnvOAM6V\", \"NGs7AjKXIIo\", \"xvpY5OY5X9S\", \"Sbz9LJAx1SY\"]\n                            },\n                            {\n                                title: \"Graduates by gender\",\n                                classType: \"brown\",\n                                chartType: \"column\",\n                                chartPosition: \"chart-center\",\n                                //colors: ['#9A2E32'],\n                                periods: periods,\n                                indicators: [\"vEe0oK2VQhe\", \"BNnP4tjpeMz\", \"YL9pKCMIiCs\", \"rQq1w4TXfeQ\", \"TH4h8PSV0C9\", \"OZ04XGLUf6n\", \"PmS3rmEKBXB\"]\n                            }\n                        ],\n                        marketFlow: [\n                            {\n                                title: \"Medical Doctor Migration\",\n                                classType: \"red\",\n                                chartType: \"line\",\n                                chartPosition: \"chart-center\",\n                                //colors: ['#9A2E32'],\n                                periods: periods,\n                                indicators: [\"toTRAeMY2vy\", \"WWyrQlH1Y22\"]\n                            },\n                            {\n                                title: \"Unemployed Rate\",\n                                classType: \"red\",\n                                chartType: \"line\",\n                                chartPosition: \"chart-center\",\n                                //colors: ['#9A2E32'],\n                                periods: periods,\n                                indicators: [\"mFOTg5PaMRk\", \"C06ANs9J2HA\", \"XjD8p1KC0qM\"]\n                            },\n                            {\n                                title: \"Vacancy Rate\",\n                                classType: \"red\",\n                                chartType: \"column\",\n                                chartPosition: \"chart-right\",\n                                //colors: ['#9A2E32'],\n                                periods: periods,\n                                indicators: [\"aeGGK8bRvmr.fGOgbIqsxDn\", \"aeGGK8bRvmr.LHbCtHlZr3Y\", \"aeGGK8bRvmr.ALBRKpJsddQ\", \"aeGGK8bRvmr.iWRW6jXAzvP\", \"aeGGK8bRvmr.MPzyVWiSFF2\", \"aeGGK8bRvmr.VtVkbvygJnm\", \"aeGGK8bRvmr.aBpbcEgtzgw\"]\n                            }\n                        ],\n                        workingConditions: [\n                            {\n                                title: \"Self-Employed\",\n                                classType: \"brown\",\n                                chartType: \"column\",\n                                chartPosition: \"chart-center\",\n                                //colors: ['#9A2E32'],\n                                periods: periods,\n                                indicators: [\"NS4fCIHv4cH\", \"BOl6GIYujj6\", \"aNLJOF7Aqqm\"]\n                            },\n                            {\n                                title: \"Part Time Employed:\",\n                                classType: \"brown\",\n                                chartType: \"column\",\n                                chartPosition: \"chart-right\",\n                                //colors: ['#9A2E32'],\n                                periods: periods,\n                                indicators: [\"TMZ93QHMe1N\", \"kpW92bC2frC\", \"Noyirkvon7V\"]\n                            }\n                        ],\n                        governance: [\n                            {\n                                title: \"Governance\",\n                                classType: \"blue\",\n                                chartType: \"column\",\n                                chartPosition: \"chart-center\",\n                                //colors: ['#9A2E32'],\n                                periods: periods,\n                                indicators: [\"yqQBUxeuga4\", \"wDaqByzsz7p\"]\n                            }\n                        ],\n                        hrhis: [\n                            {\n                                title: \"HRHIS\",\n                                classType: \"blue\",\n                                chartType: \"column\",\n                                chartPosition: \"chart-center\",\n                                //colors: ['#9A2E32'],\n                                periods: periods,\n                                indicators: [\"RHokurJAbjS\", \"q8CUMlpFLtJ\",\"hR7B1ITcCMe\", \"qNxAIa6jvmm\"]\n                            }\n                        ]\n                    }\n                });\n    </script>\n</head>\n<body>\n\n<!-- Primary Page Layout\n������������������������������������������������������������������������������������������������������������������������������������������������������ -->\n\n<div class=\"container-fluid\" ng-controller=\"charts\" ng-cloak style=\"width: 800pt;\">\n    <div class=\"row\">\n        <div class=\"col-sm-12\">\n            <table style=\"width:100%;margin-bottom:15px\">\n                <tr style='height: 120px;background-size: contain !important;background-image: url(\"../api/documents/tiGoso5xIzq/data\") !important;'>\n                    <td style=\"width:100%\">\n                        <img src=\"https://seeklogo.com/images/W/WHO_World_Health_Organization-logo-18D6B3AFE7-seeklogo.com.png\"\n                             class=\"pull-right\" style=\"width:300px;margin-right: 15px;margin-top: 10px;\">\n                        <div class=\"navbar-header\">\n                            <h4 style=\"color:white;font-size: 40px;font-weight:bold;line-height: 90px;\">NHWA Country Profile for\n                                {{dhis2.report.organisationUnit.name}}</h4>\n                        </div>\n                    </td>\n                </tr>\n            </table>\n            <table style=\"width:100%\" cellpadding=\"5\" cellspacing=\"5\">\n                <tr>\n                    <th colspan=\"3\" class=\"header green\">DEMOGRAPHICS</th>\n                </tr>\n                <tr>\n                    <td ng-repeat=\"chart in charts.demographics\" style=\"width: 33%;\">\n                        <div class=\"chart green\">\n                            <div class=\"chartheader green\">{{chart.title}}</div>\n                            <hc-chart options=\"chart\">Placeholder for generic chart</hc-chart>\n                        </div>\n                    </td>\n                </tr>\n                <tr>\n                    <th colspan=\"3\" class=\"header red\">MARKET MIGRATION</th>\n                </tr>\n                <tr>\n                    <td ng-repeat=\"chart in charts.marketFlow\" style=\"width: 33%;\">\n                        <div class=\"chart red\">\n                            <div class=\"chartheader red\">{{chart.title}}</div>\n                            <hc-chart options=\"chart\">Placeholder for generic chart</hc-chart>\n                        </div>\n                    </td>\n                </tr>\n                <tr>\n                    <th colspan=\"2\" class=\"header brown\">EDUCATION</th>\n                    <th class=\"header blue\">GOVERNANCE</th>\n                </tr>\n                <tr>\n                    <td ng-repeat=\"chart in charts.education\" style=\"width: 33%;\">\n                        <div class=\"chart brown\">\n                            <div class=\"chartheader brown\">{{chart.title}}</div>\n                            <hc-chart options=\"chart\">Placeholder for generic chart</hc-chart>\n                        </div>\n                    </td>\n                    <td style=\"vertical-align: text-bottom;\"\n                        ng-repeat=\"chart in charts.governance\" style=\"width: 33%;\">\n                        <div class=\"chart blue\">\n                            <div class=\"chartheader blue\">{{chart.title}}</div>\n                            <hc-chart options=\"chart\">Placeholder for generic chart</hc-chart>\n                        </div>\n                    </td>\n                </tr>\n                <tr>\n                    <th colspan=\"2\" class=\"header brown\">WORKING CONDITOIN</th>\n                    <th class=\"header blue\">HRHIS</th>\n                </tr>\n                <tr>\n                    <td\n                            ng-repeat=\"chart in charts.workingConditions\" style=\"width: 33%;\">\n                        <div class=\"chart brown\">\n                            <div class=\"chartheader brown\">{{chart.title}}</div>\n                            <hc-chart options=\"chart\">Placeholder for generic chart</hc-chart>\n                        </div>\n                    </td>\n                    <td style=\"vertical-align: text-bottom;\"\n                        ng-repeat=\"chart in charts.hrhis\" style=\"width: 33%;\">\n                        <div class=\"chart blue\">\n                            <div class=\"chartheader blue\">{{chart.title}}</div>\n                            <hc-chart options=\"chart\">Placeholder for generic chart</hc-chart>\n                        </div>\n                    </td>\n                </tr>\n            </table>\n            <table style=\"width:100%;margin-bottom:15px\">\n                <tr style='height: 150px;background-size: contain !important;margin-top: 20px;background-image: url(\"../api/documents/A0UdRxjZvfI/data\") !important;'>\n                    <td style=\"width:100%\">\n                        <div class=\"pull-right\" style=\"font-size: 20px;font-weight:bold;margin-top: 120px;\">Source: WHO NHWA\n                            Data Platform created on {{todaysDate | date:\"dd/MM/yyyy\"}}\n                        </div>\n                    </td>\n                </tr>\n            </table>\n        </div>\n    </div>\n</div><!-- End Document\n      ������������������������������������������������������������������������������������������������������������������������������������������������������ -->\n</body>\n</html>\n","publicAccess":"--------","type":"HTML","externalAccess":false,"cacheStrategy":"RESPECT_SYSTEM_SETTING","lastUpdatedBy":{"id":"dKttJLRSiIl"},"relativePeriods":{"thisYear":false,"quartersLastYear":false,"last52Weeks":false,"thisWeek":false,"lastMonth":false,"last14Days":false,"biMonthsThisYear":false,"monthsThisYear":false,"last2SixMonths":false,"yesterday":false,"thisQuarter":false,"last12Months":false,"last5FinancialYears":false,"thisSixMonth":false,"lastQuarter":false,"thisFinancialYear":false,"last4Weeks":false,"last3Months":false,"thisDay":false,"thisMonth":false,"last5Years":false,"last6BiMonths":false,"last4BiWeeks":false,"lastFinancialYear":false,"lastBiWeek":false,"weeksThisYear":false,"last6Months":false,"last3Days":false,"quartersThisYear":false,"monthsLastYear":false,"lastWeek":false,"last7Days":false,"thisBimonth":false,"lastBimonth":false,"lastSixMonth":false,"thisBiWeek":false,"lastYear":false,"last12Weeks":false,"last4Quarters":false},"reportParams":{"paramGrandParentOrganisationUnit":false,"paramReportingPeriod":false,"paramOrganisationUnit":true,"paramParentOrganisationUnit":false},"user":{"id":"dKttJLRSiIl"},"userGroupAccesses":[{"access":"r-------","userGroupUid":"vNDwT7P6thq","displayName":"NHWA Country Team","id":"vNDwT7P6thq"},{"access":"rw------","userGroupUid":"MVWS4lpbPo2","displayName":"NHWA Global Team","id":"MVWS4lpbPo2"},{"access":"r-------","userGroupUid":"ZWeEK9iBnEi","displayName":"NHWA Regional Team","id":"ZWeEK9iBnEi"},{"access":"r-------","userGroupUid":"EX00r2JNlQo","displayName":"NHWA administrators","id":"EX00r2JNlQo"},{"access":"r-------","userGroupUid":"z6TJVUnop02","displayName":"NHWA Data Completion","id":"z6TJVUnop02"},{"access":"r-------","userGroupUid":"ypluz7jgVRe","displayName":"NHWA checker","id":"ypluz7jgVRe"}],"translations":[],"userAccesses":[]}]}